<?xml version="1.0" encoding="UTF-8" ?> 
<Module>
<ModulePrefs title="survey gizmo" />
<Content type="html"><![CDATA[


  <script type="text/javascript">
function getHtml() {    
  var params = {};  
  params[gadgets.io.RequestParameters.CONTENT_TYPE] = gadgets.io.ContentType.TEXT;  
  
  var url = "http://restapi.surveygizmo.com/v1/Survey?_method=PUT&user:pass=sgizmosap@gmail.com:sapgizmo&type=survey&title=RBsurvey";

  gadgets.io.makeRequest(url, response, params);
};
function response(obj) {  
  //obj.text contains the text of the page that was requested  
if (obj.text) {
  var str = obj.text;
  var html =  str.substr(0,1000);  
  document.getElementById('returned_text').innerHTML = html;
}
if (obj.errors) {
document.getElementById('returned_errors').innerHTML=obj.errors;
}

};
//gadgets.util.registerOnLoadHandler(getHtml);
</script>
<button onClick="getHtml()"> Create Survey</button>
<br> Any errors will be listed here:
<div id="returned_errors">No Errors</div> <br/>
Retrieved text will be shown here :
<div id="returned_text"> No Text </div>
<br/>
]]></Content>
</Module>